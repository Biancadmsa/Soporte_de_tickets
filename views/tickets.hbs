{{!< main}}

{{!-- NAVBAR --}}
<nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
  <div class="container-fluid">
    <p class="navbar-brand mb-0 text-logo">Soporte de Tickets</p>
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"
      data-bs-target="#offcanvasDarkNavbar" aria-controls="offcanvasDarkNavbar" aria-expanded="false"
      aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
      aria-labelledby="offcanvasDarkNavbarLabel">
      <div class="offcanvas-header">
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
          aria-label="Close"></button>
      </div>
      <div class="offcanvas-body" id="navbarNav">
        <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
          <li class="nav-item">
            <a class="btn btn-primary" href="/ticket/nuevo">Ticket Nuevo</a>
          </li>
        </ul>
        <div class="btn-group">
          <button type="button" class="btn btn-danger dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            {{usuario.email}}
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item text-white" href="/login">Cerrar Sesión</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>

<div class="content flex-grow-1 d-flex flex-column justify-content-start align-items-center">
  <div>
    <h2 class="mb-0">Tickets</h2>
  </div>
  <div class="container">
    <div class="d-flex justify-content-center mt-5">
      <form class="row g-3" method="GET" action="/tickets">
        <div class="col-md-6">
          <label for="tipo" class="form-label">Tipo</label>
          <select id="tipo" name="tipo" class="form-control">
            <option value="" selected>Tipo</option>
            <option value="Urgente">Urgente</option>
            <option value="Importante">Importante</option>
            <option value="Neutro">Neutro</option>
          </select>
        </div>
        <div class="col-md-6">
          <label for="fecha" class="form-label">Fecha de creación</label>
          <input type="date" id="fecha" name="fecha" class="form-control" placeholder="Fecha de creación">
        </div>
        <div class="col-md-12 d-flex justify-content-center">
          <button id="buscar" class="btn btn-primary mt-3" type="submit">Buscar</button>
        </div>
      </form>
    </div>
  </div>

  {{!-- TICKETS TABLE --}}
  <table class="table table-striped mt-5 text-center mb-5">
    <thead>
      <tr>
        <th scope="col">Nombre de usuario</th>
        <th scope="col">Tipo</th>
        <th scope="col">Auditado</th>
      </tr>
    </thead>
    <tbody>
      {{#each tickets}}
      <tr>
        <td>{{this.nombre_usuario}}</td>
        <td>{{this.tipo}}</td>
        <td><input type="checkbox" {{#if this.auditado}}checked{{/if}}></td>
      </tr>
      {{/each}}
    </tbody>
  </table>

  {{!-- PAGINATION --}}
  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="#">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item"><a class="page-link" href="#">...</a></li>
      <li class="page-item"><a class="page-link" href="#">20</a></li>
    </ul>
  </nav>
</div>

